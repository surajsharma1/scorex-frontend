<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Design 3 - Hex Perimeter</title>
    <link href="https://fonts.googleapis.com/css2?family=Barlow+Condensed:wght@700;900&display=swap" rel="stylesheet">
    <script src="overlay-utils.js"></script>
    <style>
        :root { --main: #1a1a1a; --sub: #c6ff00; }
        body { margin: 0; width: 1920px; height: 1080px; background: transparent; color: white; font-family: 'Barlow Condensed', sans-serif; }

        .top-hex { position: absolute; top: 0; width: 100%; height: 50px; background: var(--main); border-bottom: 4px solid var(--sub); display: flex; justify-content: center; align-items: center; }
        .top-hex::before { content: 'LIVE'; position: absolute; left: 0; top: 0; background: var(--sub); color: #000; padding: 0 40px; height: 100%; display: flex; align-items: center; font-weight: 900; clip-path: polygon(0 0, 100% 0, 80% 100%, 0% 100%); }

        .bottom-full { position: absolute; bottom: 0; width: 100%; height: 110px; display: flex; align-items: flex-end; }
        .hex-score { background: #fff; color: #000; width: 350px; height: 90px; clip-path: polygon(0 0, 90% 0, 100% 100%, 0% 100%); display: flex; justify-content: center; align-items: center; font-size: 3.5rem; font-weight: 900; }
        .hex-data { flex-grow: 1; background: var(--main); height: 70px; display: flex; align-items: center; padding: 0 50px; border-top: 5px solid var(--sub); justify-content: space-between; }

        #push-ev { position: absolute; bottom: 130px; left: 50%; transform: translateX(-50%); opacity: 0; transition: 0.2s; font-size: 5rem; font-weight: 900; color: var(--sub); text-shadow: 0 0 20px var(--sub); }
        #push-ev.active { opacity: 1; }
    </style>
</head>
<body>
    <!-- Dynamic Tournament Name -->
    <div class="top-hex" id="tournament-name">ICC T20 WORLD CUP â€¢ BARBADOS</div>
    <div id="push-ev">SIXER!</div>

    <div class="bottom-full">
        <!-- Dynamic Team -->
        <div class="hex-score">
            <span id="team1-short">WI</span> <span id="team1-score">145</span>/<span id="team1-wickets">4</span>
        </div>
        <!-- Dynamic Players -->
        <div class="hex-data">
            <div style="font-size: 1.5rem;">
                <b id="striker-name">POORAN:</b> 54(30)* | <b id="nonstriker-name">RUSSELL:</b> 12(4)
            </div>
            <!-- Dynamic Overs -->
            <div style="font-size: 1.8rem; color: var(--sub);">OVERS: <span id="team1-overs">14.2</span></div>
        </div>
    </div>

    <script>
        // Auto-initialize with matchId from URL
        document.addEventListener('DOMContentLoaded', () => {
            const params = new URLSearchParams(window.location.search);
            const matchId = params.get('matchId');
            const apiBaseUrl = params.get('apiBaseUrl') || params.get('apiUrl');
            
            if (matchId) {
                console.log('Initializing live score for match:', matchId);
                window.initLiveScore(matchId, apiBaseUrl);
            }
        });

        function triggerPush(msg, type) {
            const e = document.getElementById('push-ev');
            e.innerText = msg; 
            e.classList.add('active');
            setTimeout(() => e.classList.remove('active'), 3000);
        }
    </script>
</body>
</html>
