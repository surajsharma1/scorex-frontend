<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link href="https://fonts.googleapis.com/css2?family=Barlow+Condensed:ital,wght@0,700;0,900;1,900&display=swap" rel="stylesheet">
    <script src="overlay-utils.js"></script>
    <style>
        :root {
            --ipl-blue: #001f3f;
            --ipl-gold: #f9cd05;
            --white: #ffffff;
            --accent: #00f2ff;
        }

        body {
            margin: 0;
            padding: 0;
            width: 1920px;
            height: 1080px;
            font-family: 'Barlow Condensed', sans-serif;
            background: transparent;
            overflow: hidden;
        }

        /* --- 1. TOP MATCH INFO RIBBON --- */
        #top-info {
            position: absolute;
            top: 0;
            left: 50%;
            transform: translateX(-50%);
            background: var(--ipl-blue);
            color: var(--white);
            padding: 5px 60px;
            font-size: 1.1rem;
            font-weight: 700;
            clip-path: polygon(0 0, 100% 0, 95% 100%, 5% 100%);
            border-bottom: 3px solid var(--ipl-gold);
            letter-spacing: 2px;
        }

        /* --- 2. BOTTOM MAIN SCORE SLAB (Full Width Logic) --- */
        .bottom-border-wrap {
            position: absolute;
            bottom: 0;
            width: 100%;
            height: 70px;
            display: flex;
            justify-content: center;
            align-items: flex-end;
            background: linear-gradient(to top, rgba(0,0,0,0.8), transparent);
        }

        .main-slab {
            display: flex;
            height: 65px;
            filter: drop-shadow(0 -5px 15px rgba(0,0,0,0.5));
        }

        .seg-team {
            background: var(--ipl-blue);
            color: var(--ipl-gold);
            width: 160px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2.8rem;
            font-weight: 900;
            clip-path: polygon(0 0, 100% 0, 85% 100%, 0% 100%);
            border-bottom: 5px solid var(--ipl-gold);
        }

        .seg-score {
            background: #000;
            padding: 0 50px;
            margin-left: -25px;
            display: flex;
            align-items: center;
            gap: 15px;
            clip-path: polygon(10% 0, 100% 0, 90% 100%, 0% 100%);
            border-bottom: 5px solid var(--white);
        }
        .score-val { color: var(--white); font-size: 3.5rem; font-weight: 900; }
        .over-val { color: #888; font-size: 1.4rem; padding-top: 15px; }

        .seg-players {
            background: #fff;
            color: #000;
            margin-left: -25px;
            padding: 0 60px;
            display: flex;
            align-items: center;
            gap: 40px;
            clip-path: polygon(10% 0, 100% 0, 90% 100%, 0% 100%);
        }
        .p-unit { display: flex; flex-direction: column; line-height: 1; }
        .p-n { font-size: 1.3rem; font-weight: 900; text-transform: uppercase; }
        .p-s { font-size: 0.9rem; font-weight: 700; color: #555; }

        .seg-status {
            background: var(--ipl-gold);
            color: #000;
            margin-left: -25px;
            padding: 0 50px;
            display: flex;
            align-items: center;
            clip-path: polygon(15% 0, 100% 0, 100% 100%, 0% 100%);
            font-weight: 900;
            font-size: 1.6rem;
            font-style: italic;
        }

        /* --- 3. TOP-LEFT LOGO/PHASE BOX --- */
        #phase-box {
            position: absolute;
            top: 40px;
            left: 40px;
            background: rgba(0,0,0,0.7);
            border-left: 5px solid var(--accent);
            padding: 10px 20px;
            color: var(--white);
        }
        .phase-title { font-size: 0.8rem; opacity: 0.7; letter-spacing: 1px; }
        .phase-val { font-size: 1.5rem; font-weight: 900; color: var(--accent); }

    </style>
</head>
<body>

    <!-- Dynamic Tournament Name -->
    <div id="top-info" id="tournament-name">1ST T20I • CHENNAI • LIVE</div>

    <div id="phase-box">
        <div class="phase-title">MATCH PHASE</div>
        <div class="phase-val">POWERPLAY 1</div>
    </div>

    <div class="bottom-border-wrap">
        <div class="main-slab">
            <!-- Dynamic Team -->
            <div id="team1-short" class="seg-team">IND</div>
            <!-- Dynamic Score -->
            <div class="seg-score">
                <span id="team1-score" class="score-val">192</span>/<span id="team1-wickets">4</span>
                <span id="team1-overs" class="over-val">18.4</span>
            </div>
            <!-- Dynamic Players -->
            <div class="seg-players">
                <div class="p-unit"><span id="striker-name" class="p-n">V. KOHLI</span><span class="p-s">82(44)*</span></div>
                <div id="nonstriker-name" class="p-unit" style="opacity:0.5"><span class="p-n">S. GILL</span><span class="p-s">14(10)</span></div>
            </div>
            <div class="seg-status">NEED 24 FROM 8 BALLS</div>
        </div>
    </div>

    <script>
        // Auto-initialize with matchId from URL
        document.addEventListener('DOMContentLoaded', () => {
            const params = new URLSearchParams(window.location.search);
            const matchId = params.get('matchId');
            const apiBaseUrl = params.get('apiBaseUrl') || params.get('apiUrl');
            
            if (matchId) {
                console.log('Initializing live score for match:', matchId);
                window.initLiveScore(matchId, apiBaseUrl);
            }
        });
    </script>
</body>
</html>
