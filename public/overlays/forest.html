<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link href="https://fonts.googleapis.com/css2?family=Barlow+Condensed:wght@700;900&display=swap" rel="stylesheet">
    <script src="overlay-utils.js"></script>
    <style>
        :root { --red-accent: #ff0044; --slate: #1e1e1e; }
        body { margin: 0; width: 1920px; height: 1080px; background: transparent; font-family: 'Barlow Condensed', sans-serif; color: white; }

        /* TOP BORDER: THIN LINE */
        .v-top { position: absolute; top: 0; width: 100%; height: 35px; background: rgba(0,0,0,0.9); border-bottom: 2px solid var(--red-accent); display: flex; align-items: center; padding: 0 40px; font-size: 1.2rem; font-weight: 900; }

        /* LEFT SPINE */
        .v-spine { position: absolute; left: 0; bottom: 85px; width: 100px; background: var(--slate); border-right: 5px solid var(--red-accent); display: flex; flex-direction: column; align-items: center; padding: 20px 0; }
        .v-score { writing-mode: vertical-rl; transform: rotate(180deg); font-size: 3rem; font-weight: 900; padding: 10px 0; }

        /* BOTTOM BAR */
        .v-bottom { position: absolute; bottom: 0; width: 100%; height: 85px; background: #000; display: flex; align-items: center; padding: 0 120px; box-sizing: border-box; }
        .v-players { display: flex; gap: 100px; font-size: 2.2rem; font-weight: 900; }

        /* PUSH ANIMATION: LEFT SLIDE */
        #push-vel { position: absolute; left: 105px; bottom: 100px; background: var(--red-accent); color: white; padding: 10px 60px; font-size: 4rem; font-weight: 900; transform: translateX(-150%); transition: 0.4s; }
        #push-vel.active { transform: translateX(0); }
    </style>
</head>
<body>
    <!-- Dynamic Tournament Name -->
    <div class="v-top" id="tournament-name">ICC CHAMPIONS TROPHY | REPLAY MODE</div>
    <div id="push-vel">BOWLED!</div>

    <div class="v-spine">
        <!-- Dynamic Team -->
        <div id="team1-short" style="font-weight: 900; color: var(--red-accent);">IND</div>
        <!-- Dynamic Score -->
        <div id="team1-score" class="v-score">284/5</div>
    </div>

    <div class="v-bottom">
        <!-- Dynamic Players -->
        <div class="v-players">
            <span><span id="striker-name">R. PANT</span> <span style="color: var(--red-accent)">104*</span></span>
            <span id="nonstriker-name" style="opacity: 0.4;">K. YADAV 15</span>
        </div>
        <!-- Dynamic Overs -->
        <div style="margin-left: auto; font-size: 2rem;">OVER: <span id="team1-overs">48.2</span></div>
    </div>

    <script>
        // Auto-initialize with matchId from URL
        document.addEventListener('DOMContentLoaded', () => {
            const params = new URLSearchParams(window.location.search);
            const matchId = params.get('matchId');
            const apiBaseUrl = params.get('apiBaseUrl') || params.get('apiUrl');
            
            if (matchId) {
                console.log('Initializing live score for match:', matchId);
                window.initLiveScore(matchId, apiBaseUrl);
            }
        });

        function triggerPush(msg, type) {
            const v = document.getElementById('push-vel');
            v.innerText = msg; 
            v.classList.add('active');
            setTimeout(() => v.classList.remove('active'), 3000);
        }
    </script>
</body>
</html>
