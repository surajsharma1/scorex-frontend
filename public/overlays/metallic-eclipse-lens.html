<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link href="https://fonts.googleapis.com/css2?family=Barlow+Condensed:wght@700;900&display=swap" rel="stylesheet">
    <style>
        :root { --metal-silver: #bdc3c7; --metal-dark: #2c3e50; }
        body { margin: 0; width: 1920px; height: 1080px; background: transparent; font-family: 'Barlow Condensed', sans-serif; color: white; overflow: hidden; }
        
        .eclipse-container { position: absolute; bottom: 40px; left: 60px; display: flex; align-items: center; }
        .lens-score { width: 180px; height: 180px; background: radial-gradient(circle, #444, #000); border: 8px solid var(--metal-silver); border-radius: 50%; display: flex; flex-direction: column; align-items: center; justify-content: center; box-shadow: 0 0 30px rgba(0,0,0,0.8); z-index: 2; }
        .score-big { font-size: 4rem; font-weight: 900; line-height: 1; }
        .wickets-small { font-size: 2rem; color: var(--metal-silver); }

        .info-plate { background: linear-gradient(90deg, var(--metal-dark), transparent); padding: 20px 60px 20px 100px; margin-left: -80px; border-radius: 0 50px 50px 0; border-top: 2px solid rgba(255,255,255,0.2); }
        #team1-name { font-size: 1.5rem; letter-spacing: 3px; color: var(--metal-silver); text-transform: uppercase; }
        .player-row { font-size: 2rem; font-weight: 700; margin-top: 5px; }

        #push-eclipse { position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%) scale(0); transition: 0.6s cubic-bezier(0.68, -0.55, 0.265, 1.55); }
        #push-eclipse.active { transform: translate(-50%, -50%) scale(1); }
        .eclipse-alert { background: #000; border: 4px solid var(--metal-silver); color: #fff; padding: 20px 100px; font-size: 5rem; font-weight: 900; border-radius: 100px; }
    </style>
</head>
<body>
    <div id="push-eclipse"><div class="eclipse-alert" id="p-msg">OUT!</div></div>

    <div class="eclipse-container">
        <div class="lens-score">
            <div class="score-big" id="team1-score">0</div>
            <div class="wickets-small">/ <span id="team1-wickets">0</span></div>
        </div>
        <div class="info-plate">
            <div id="team1-name">TEAM NAME</div>
            <div class="player-row"><span id="striker-name">BATTER 0*</span> <small style="opacity: 0.5;" id="team1-overs">0.0</small></div>
        </div>
    </div>

    <script src="overlay-utils.js"></script>
    <script>
        window.updateOverlayUI = (data) => {
            const m = data.team1;
            document.getElementById('team1-name').innerText = m.name;
            document.getElementById('team1-score').innerText = m.score;
            document.getElementById('team1-wickets').innerText = m.wickets;
            document.getElementById('team1-overs').innerText = m.overs;
            document.getElementById('striker-name').innerText = `${m.striker.name} ${m.striker.runs}*`;
        };
        window.triggerWicket = (msg) => {
            const el = document.getElementById('push-eclipse');
            document.getElementById('p-msg').innerText = msg;
            el.classList.add('active');
            setTimeout(() => el.classList.remove('active'), 3500);
        };
        window.initBroadcastChannel();
    </script>
</body>
</html>