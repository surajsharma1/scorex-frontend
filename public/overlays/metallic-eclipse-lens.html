<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link href="https://fonts.googleapis.com/css2?family=Barlow+Condensed:ital,wght@0,900;1,900&display=swap" rel="stylesheet">
    <style>
        :root { --eclipse: #0a0a1a; --highlight: #7000ff; --alert: #ff0055; }
        body { margin: 0; width: 1920px; height: 1080px; background: transparent; font-family: 'Barlow Condensed', sans-serif; color: white; overflow: hidden; }

        /* FULL TOP BORDER: CURVED LENS */
        .top-lens { position: absolute; top: 0; width: 100%; height: 60px; background: var(--eclipse); clip-path: ellipse(80% 60% at 50% 0%); display: flex; align-items: center; justify-content: center; border-bottom: 2px solid var(--highlight); box-sizing: border-box; }
        .tournament-txt { font-size: 1.8rem; letter-spacing: 12px; font-weight: 900; background: linear-gradient(to bottom, #fff, #888); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }

        /* FULL BOTTOM BORDER: WING STRUCTURE */
        .bottom-wings { position: absolute; bottom: 0; width: 100%; height: 100px; display: flex; align-items: flex-end; }
        .wing-score { background: var(--eclipse); width: 35%; height: 90px; clip-path: polygon(0 0, 100% 0, 85% 100%, 0% 100%); display: flex; align-items: center; padding-left: 60px; border-top: 5px solid var(--highlight); }
        .wing-players { background: #000; flex-grow: 1; height: 75px; display: flex; align-items: center; padding: 0 60px; justify-content: flex-end; gap: 60px; border-top: 1px solid #444; }

        /* PUSH ENGINE: ECLIPSE REVEAL */
        #push-eclipse { position: absolute; bottom: 120px; left: 50%; transform: translateX(-50%) scale(0); transition: 0.6s cubic-bezier(0.23, 1, 0.32, 1); }
        #push-eclipse.active { transform: translateX(-50%) scale(1); }
        .push-inner { background: var(--alert); padding: 10px 100px; font-size: 5rem; font-weight: 900; clip-path: polygon(10% 0%, 90% 0%, 100% 100%, 0% 100%); }

        /* NEW PUSH CONTAINER */
        #push-container { position: absolute; top: 40%; left: 50%; transform: translate(-50%, -50%) scale(0) rotate(-5deg); opacity: 0; transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275); z-index: 999; }
        #push-container.active { transform: translate(-50%, -50%) scale(1.5) rotate(0deg); opacity: 1; }
        .push-box { background: var(--accent, #00f2ff); color: #000; padding: 20px 80px; font-size: 5rem; font-weight: 900; font-style: italic; text-transform: uppercase; box-shadow: 0 0 50px var(--accent); clip-path: polygon(10% 0, 100% 0, 90% 100%, 0 100%); }
    </style>
</head>
<body>
    <div class="top-lens"><div class="tournament-txt">ICC WORLD CUP 2026</div></div>

    <div id="push-eclipse"><div class="push-inner" id="p-msg">SIX!</div></div>

    <div class="bottom-wings">
        <div class="wing-score">
            <span style="font-size: 4rem; font-weight: 900;">WI 142/6</span>
            <span style="margin-left: 20px; font-size: 1.5rem; color: var(--highlight);">18.2 OV</span>
        </div>
        <div class="wing-players">
            <div style="text-align: right;"><b>POORAN</b> <span style="color: var(--highlight);">82*</span></div>
            <div style="text-align: right; opacity: 0.5;"><b>RUSSELL</b> 14</div>
        </div>
    </div>

    <script src="overlay-utils.js"></script>
<script>
    const channel = window.initBroadcastChannel();

    channel.onmessage = (event) => {
        const data = event.data;

        // Update Bottom Score Wing
        if (data.team1) {
            const scoreWing = document.querySelector('.wing-score');
            scoreWing.innerHTML = `
                <span style="font-size: 4rem; font-weight: 900;">${data.team1.shortName} ${data.team1.score}/${data.team1.wickets}</span>
                <span style="margin-left: 20px; font-size: 1.5rem; color: var(--highlight);">${data.team1.overs} OV</span>
            `;
        }

        // Update Bottom Player Wing
        if (data.striker) {
            const playerWing = document.querySelector('.wing-players');
            playerWing.innerHTML = `
                <div style="text-align: right;">
                    <div style="font-size: 0.8rem; opacity: 0.5;">CURRENT BATTER</div>
                    <div style="font-size: 2rem; font-weight: 900; color: var(--highlight);">${data.striker.name} ${data.striker.runs}*</div>
                </div>
            `;
        }
    };
</script>
</body>
</html>