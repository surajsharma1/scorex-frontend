<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link href="https://fonts.googleapis.com/css2?family=Barlow+Condensed:ital,wght@0,900;1,900&display=swap" rel="stylesheet">
    <script src="overlay-utils.js"></script>
    <style>
        :root { --eclipse: #0a0a1a; --highlight: #7000ff; --alert: #ff0055; }
        body { margin: 0; width: 1920px; height: 1080px; background: transparent; font-family: 'Barlow Condensed', sans-serif; color: white; overflow: hidden; }

        /* FULL TOP BORDER: CURVED LENS */
        .top-lens { position: absolute; top: 0; width: 100%; height: 60px; background: var(--eclipse); clip-path: ellipse(80% 60% at 50% 0%); display: flex; align-items: center; justify-content: center; border-bottom: 2px solid var(--highlight); box-sizing: border-box; }
        .tournament-txt { font-size: 1.8rem; letter-spacing: 12px; font-weight: 900; background: linear-gradient(to bottom, #fff, #888); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }

        /* FULL BOTTOM BORDER: WING STRUCTURE */
        .bottom-wings { position: absolute; bottom: 0; width: 100%; height: 100px; display: flex; align-items: flex-end; }
        .wing-score { background: var(--eclipse); width: 35%; height: 90px; clip-path: polygon(0 0, 100% 0, 85% 100%, 0% 100%); display: flex; align-items: center; padding-left: 60px; border-top: 5px solid var(--highlight); }
        .wing-players { background: #000; flex-grow: 1; height: 75px; display: flex; align-items: center; padding: 0 60px; justify-content: flex-end; gap: 60px; border-top: 1px solid #444; }

        /* PUSH ENGINE: ECLIPSE REVEAL */
        #push-eclipse { position: absolute; bottom: 120px; left: 50%; transform: translateX(-50%) scale(0); transition: 0.6s cubic-bezier(0.23, 1, 0.32, 1); }
        #push-eclipse.active { transform: translateX(-50%) scale(1); }
        .push-inner { background: var(--alert); padding: 10px 100px; font-size: 5rem; font-weight: 900; clip-path: polygon(10% 0%, 90% 0%, 100% 100%, 0% 100%); }
    </style>
</head>
<body>
    <!-- Dynamic Tournament Name -->
    <div class="top-lens"><div class="tournament-txt" id="tournament-name">ICC WORLD CUP 2026</div></div>

    <div id="push-eclipse"><div class="push-inner" id="p-msg">SIX!</div></div>

    <div class="bottom-wings">
        <!-- Dynamic Team -->
        <div class="wing-score">
            <span style="font-size: 4rem; font-weight: 900;">
                <span id="team1-short">WI</span> <span id="team1-score">142</span>/<span id="team1-wickets">6</span>
            </span>
            <!-- Dynamic Overs -->
            <span id="team1-overs" style="margin-left: 20px; font-size: 1.5rem; color: var(--highlight);">18.2 OV</span>
        </div>
        <!-- Dynamic Players -->
        <div class="wing-players">
            <div style="text-align: right;"><b id="striker-name">POORAN</b> <span style="color: var(--highlight);">82*</span></div>
            <div id="nonstriker-name" style="text-align: right; opacity: 0.5;"><b>RUSSELL</b> 14</div>
        </div>
    </div>

    <script>
        // Auto-initialize with matchId from URL
        document.addEventListener('DOMContentLoaded', () => {
            const params = new URLSearchParams(window.location.search);
            const matchId = params.get('matchId');
            const apiBaseUrl = params.get('apiBaseUrl') || params.get('apiUrl');
            
            if (matchId) {
                console.log('Initializing live score for match:', matchId);
                window.initLiveScore(matchId, apiBaseUrl);
            }
        });

        function triggerPush(msg, type) {
            const e = document.getElementById('push-eclipse');
            document.getElementById('p-msg').innerText = msg;
            e.classList.add('active'); setTimeout(() => e.classList.remove('active'), 3000);
        }
    </script>
</body>
</html>
