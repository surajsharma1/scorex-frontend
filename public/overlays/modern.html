<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link href="https://fonts.googleapis.com/css2?family=Barlow+Condensed:ital,wght@0,900;1,900&display=swap" rel="stylesheet">
    <script src="overlay-utils.js"></script>
    <style>
        :root { --primary: #000; --accent: #ffeb3b; --secondary: #1a237e; }
        body { margin: 0; width: 1920px; height: 1080px; background: transparent; font-family: 'Barlow Condensed', sans-serif; color: white; overflow: hidden; }

        /* TOP BORDER: HEAVY SLAB */
        .top-slab { position: absolute; top: 0; width: 100%; height: 70px; background: var(--primary); border-bottom: 8px solid var(--secondary); display: flex; align-items: center; padding: 0 60px; box-sizing: border-box; }
        .tournament-pill { background: var(--secondary); padding: 5px 30px; font-size: 2rem; font-weight: 900; skew: -10deg; }

        /* BOTTOM BORDER: THE MONOLITH */
        .bottom-monolith { position: absolute; bottom: 0; width: 100%; height: 110px; background: var(--primary); display: flex; align-items: center; }
        .score-block { background: var(--accent); color: #000; height: 140px; width: 350px; margin-top: -30px; display: flex; flex-direction: column; justify-content: center; align-items: center; box-shadow: 10px 0 20px rgba(0,0,0,0.5); z-index: 2; }
        .stats-area { flex-grow: 1; padding: 0 60px; display: flex; justify-content: space-between; align-items: center; font-size: 2.2rem; }

        /* PUSH ENGINE */
        #push-monolith { position: absolute; bottom: 120px; right: 0; background: var(--secondary); padding: 15px 80px; font-size: 5rem; font-weight: 900; transform: translateX(100%); transition: 0.4s cubic-bezier(0.17, 0.84, 0.44, 1); }
        #push-monolith.active { transform: translateX(0); }
    </style>
</head>
<body>
    <div class="top-slab">
        <!-- Dynamic Tournament Name -->
        <div class="tournament-pill" id="tournament-name">ICC CHAMPIONS TROPHY</div>
        <span style="margin-left: auto; font-size: 1.5rem; letter-spacing: 5px;">LIVE FROM THE OVAL</span>
    </div>

    <div id="push-monolith">CAUGHT OUT</div>

    <div class="bottom-monolith">
        <div class="score-block">
            <!-- Dynamic Team 1 Name and Score -->
            <div style="font-size: 1.5rem; font-weight: 700;" id="team1-name">SOUTH AFRICA</div>
            <div style="font-size: 4.5rem; font-weight: 900; line-height: 1;" id="team1-score">184/3</div>
        </div>
        <div class="stats-area">
            <!-- Dynamic Striker Info -->
            <div><span style="color:var(--accent)" id="striker-name">Q. DE KOCK</span> <span id="striker-runs">84</span>(<span id="striker-balls">44</span>)*</div>
            <!-- Dynamic Non-Striker Info -->
            <div style="opacity: 0.5;" id="nonstriker-name">D. MILLER</div>
            <!-- Dynamic Overs -->
            <div style="font-weight: 900; border-left: 2px solid #333; padding-left: 30px;"><span id="team1-overs">18.4</span> OV</div>
        </div>
    </div>

    <script>
        // Initialize live score with matchId from URL
        document.addEventListener('DOMContentLoaded', () => {
            const params = new URLSearchParams(window.location.search);
            const matchId = params.get('matchId');
            const apiBaseUrl = params.get('apiBaseUrl') || params.get('apiUrl');
            
            if (matchId) {
                console.log('Initializing live score for match:', matchId);
                window.initLiveScore(matchId, apiBaseUrl);
            }
        });

        function triggerPush(msg, type) {
            const el = document.getElementById('push-monolith');
            el.innerText = msg; 
            el.classList.add('active');
            setTimeout(() => el.classList.remove('active'), 3000);
        }
    </script>
</body>
</html>
