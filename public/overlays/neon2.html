<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link href="https://fonts.googleapis.com/css2?family=Barlow+Condensed:wght@700;900&display=swap" rel="stylesheet">
    <script src="overlay-utils.js"></script>
    <style>
        body { margin: 0; width: 1920px; height: 1080px; background: transparent; font-family: 'Barlow Condensed', sans-serif; color: #fff; }
        
        /* DOUBLE TOP RAIL */
        .rail-top { position: absolute; top: 0; width: 100%; }
        .rail-1 { height: 30px; background: #ff0055; font-size: 1rem; font-weight: 900; display: flex; align-items: center; padding: 0 50px; }
        .rail-2 { height: 40px; background: rgba(0,0,0,0.8); border-bottom: 2px solid #ff0055; display: flex; align-items: center; padding: 0 50px; font-size: 1.5rem; }

        /* DOUBLE BOTTOM RAIL */
        .rail-bottom { position: absolute; bottom: 0; width: 100%; }
        .rail-3 { height: 80px; background: #000; display: flex; align-items: center; padding: 0 50px; border-top: 4px solid #fff; }
        .rail-4 { height: 25px; background: #ff0055; width: 100%; }

        #push-rail { position: absolute; bottom: 120px; left: 50%; transform: translateX(-50%); font-size: 4rem; font-weight: 900; background: #fff; color: #000; padding: 5px 60px; clip-path: polygon(5% 0, 95% 0, 100% 100%, 0% 100%); opacity: 0; transition: 0.3s; }
        #push-rail.active { opacity: 1; }
    </style>
</head>
<body>
    <div class="rail-top">
        <div class="rail-1">WORLD BROADCAST • FEED A</div>
        <!-- Dynamic Tournament Name -->
        <div class="rail-2" id="tournament-name">TATA IPL 2026 • ELIMINATOR 2</div>
    </div>

    <div id="push-rail">WICKET!</div>

    <div class="rail-bottom">
        <!-- Dynamic Team and Players -->
        <div class="rail-3">
            <span style="font-size: 4rem; font-weight: 900; color: #ff0055;">
                <span id="team1-short">Kolkata</span> <span id="team1-score">156</span>/<span id="team1-wickets">2</span>
            </span>
            <span style="margin-left: 40px; font-size: 2rem;">
                <span id="striker-name">S. Iyer</span> 45* • <span id="nonstriker-name">R. Singh</span> 12
            </span>
            <!-- Dynamic Overs -->
            <span id="team1-overs" style="margin-left: auto; font-size: 2rem; opacity: 0.5;">14.2 OVERS</span>
        </div>
        <div class="rail-4"></div>
    </div>

    <script>
        // Auto-initialize with matchId from URL
        document.addEventListener('DOMContentLoaded', () => {
            const params = new URLSearchParams(window.location.search);
            const matchId = params.get('matchId');
            const apiBaseUrl = params.get('apiBaseUrl') || params.get('apiUrl');
            
            if (matchId) {
                console.log('Initializing live score for match:', matchId);
                window.initLiveScore(matchId, apiBaseUrl);
            }
        });

        function triggerPush(msg, type) {
            const r = document.getElementById('push-rail');
            r.innerText = msg; 
            r.classList.add('active');
            setTimeout(() => r.classList.remove('active'), 3000);
        }
    </script>
</body>
</html>
