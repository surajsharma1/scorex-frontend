<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <style>
        body { margin: 0; width: 1920px; height: 1080px; background: transparent; font-family: 'Helvetica Neue', Arial, sans-serif; color: white; overflow: hidden; }
        .ticker-wrap { position: absolute; bottom: 0; width: 100%; height: 60px; background: #fff; display: flex; align-items: center; box-shadow: 0 -5px 20px rgba(0,0,0,0.3); }
        .ticker-label { background: #c00; height: 100%; padding: 0 40px; display: flex; align-items: center; font-weight: 900; font-size: 1.5rem; letter-spacing: 1px; z-index: 2; }
        .ticker-content { flex-grow: 1; background: #222; height: 100%; display: flex; align-items: center; padding: 0 40px; font-size: 1.8rem; font-weight: 700; overflow: hidden; }
        .score-segment { color: #f1c40f; margin-right: 30px; }
        .batter-segment { color: #fff; }

        #push-news { position: absolute; bottom: 60px; left: 0; width: 100%; height: 50px; background: #f1c40f; color: #000; font-weight: 900; display: flex; align-items: center; justify-content: center; font-size: 2rem; transform: translateY(100%); transition: 0.3s; }
        #push-news.active { transform: translateY(0); }
    </style>
</head>
<body>
    <div id="push-news" id="p-msg">BREAKING: WICKET FALLS</div>

    <div class="ticker-wrap">
        <div class="ticker-label">LIVE SCORE</div>
        <div class="ticker-content">
            <div class="score-segment"><span id="team1-name">TEAM</span>: <span id="team1-score">0/0</span> (<span id="team1-overs">0.0</span>)</div>
            <div class="batter-segment">ON STRIKE: <span id="striker-name">BATTER 1*</span></div>
        </div>
    </div>

    <script src="overlay-utils.js"></script>
    <script>
        window.updateOverlayUI = (data) => {
            const m = data.team1;
            document.getElementById('team1-name').innerText = m.name;
            document.getElementById('team1-score').innerText = `${m.score}/${m.wickets}`;
            document.getElementById('team1-overs').innerText = m.overs;
            document.getElementById('striker-name').innerText = `${m.striker.name} ${m.striker.runs}*`;
        };
        window.triggerPush = (msg) => {
            const el = document.getElementById('push-news');
            el.innerText = `BREAKING: ${msg}`;
            el.classList.add('active');
            setTimeout(() => el.classList.remove('active'), 3000);
        };
        window.initBroadcastChannel();
    </script>
</body>
</html>